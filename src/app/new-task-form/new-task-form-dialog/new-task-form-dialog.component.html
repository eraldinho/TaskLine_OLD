<form (ngSubmit)="register()" [formGroup]="ATDForm">
    <div [formGroup]="taskGroup">
        <mat-form-field>
          <input formControlName="taskName" matInput placeholder="Nom de la tâche">
        </mat-form-field>
        <mat-form-field>
          <mat-select formControlName="taskType" placeholder="Type de tâche">
            <mat-option *ngFor="let Type of Types" [value]="Type">
              {{Type}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field>
            <input formControlName="taskDueDate" matInput placeholder="Date" [matDatepicker]="picker" (focus)="picker.open()" readonly>
        </mat-form-field>
        <mat-datepicker #picker></mat-datepicker>
      </div>
      <mat-dialog-content>
        <mat-accordion>
          <mat-expansion-panel *ngIf = "ATDForm.get('task').get('taskType').value == 'atelier'" [formGroup]="clientGroup">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Client
              </mat-panel-title>
              <mat-panel-description>
                informations relatives au client
              </mat-panel-description>
            </mat-expansion-panel-header>
          
            <mat-form-field>
              <input matInput placeholder="First name">
            </mat-form-field>
          
            <mat-form-field>
              <input matInput type="number" min="1" placeholder="Age">
            </mat-form-field>
          
          </mat-expansion-panel>
          
          <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
            <mat-expansion-panel-header>
              <mat-panel-title>
                Destination
              </mat-panel-title>
              <mat-panel-description>
                Type the country name
                <mat-icon>map</mat-icon>
              </mat-panel-description>
            </mat-expansion-panel-header>
          
            <mat-form-field>
              <input matInput placeholder="Country">
            </mat-form-field>
          
          </mat-expansion-panel>
          
          <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle>
            <mat-expansion-panel-header>
              <mat-panel-title>
                Day of the trip
              </mat-panel-title>
              <mat-panel-description>
                Inform the date you wish to travel
                <mat-icon>date_range</mat-icon>
              </mat-panel-description>
            </mat-expansion-panel-header>
          
            <mat-form-field>
              <input matInput placeholder="Date" >
            </mat-form-field>
            <mat-datepicker #picker></mat-datepicker>
          
          </mat-expansion-panel>
          
        </mat-accordion>
      </mat-dialog-content>
      <mat-dialog-actions>
        <button mat-button>Ajouter</button>
        <button mat-button>Annuler</button>
      </mat-dialog-actions>
</form>
